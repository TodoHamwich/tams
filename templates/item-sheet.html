<section class="tams-item-form flexcol">
    <header class="sheet-header">
        <img src="{{document.img}}" data-edit="img" title="{{document.name}}" height="64" width="64"/>
        <h1><input name="name" type="text" value="{{document.name}}" placeholder="Name"/></h1>
    </header>

    <div class="sheet-content">
        <div class="flexcol">
            <div class="flexrow">
                <label>Familiarity</label>
                <input type="number" name="system.familiarity" value="{{system.familiarity}}" data-dtype="Number"/>
            </div>

            {{#if (eq item.type "weapon")}}
            <div class="flexrow">
                <label>Fire Rate</label>
                <select name="system.fireRate">
                    <option value="1" {{#if (eq system.fireRate "1")}}selected{{/if}}>Single (1)</option>
                    <option value="3" {{#if (eq system.fireRate "3")}}selected{{/if}}>Burst (3)</option>
                    <option value="auto" {{#if (eq system.fireRate "auto")}}selected{{/if}}>Full Auto (10)</option>
                    <option value="custom" {{#if (eq system.fireRate "custom")}}selected{{/if}}>Custom</option>
                </select>
                {{#if (eq system.fireRate "custom")}}
                <input type="number" name="system.fireRateCustom" value="{{system.fireRateCustom}}" style="width: 50px;"/>
                {{/if}}
            </div>
            <div class="flexrow">
                {{#unless system.isRanged}}
                <label>Heavy?</label>
                <input type="checkbox" name="system.isHeavy" {{checked system.isHeavy}}/>
                <label>Two Handed?</label>
                <input type="checkbox" name="system.isTwoHanded" {{checked system.isTwoHanded}}/>
                {{/unless}}
                <label>Light?</label>
                <input type="checkbox" name="system.isLight" {{checked system.isLight}}/>
            </div>
            <div class="flexrow">
                <label>Ranged?</label>
                <input type="checkbox" name="system.isRanged" {{checked system.isRanged}}/>
                {{#if system.isRanged}}
                <label>Thrown?</label>
                <input type="checkbox" name="system.isThrown" {{checked system.isThrown}}/>
                {{/if}}
            </div>
            {{#if system.isRanged}}
            <div class="flexrow">
                <label>Ranged Damage</label>
                <input type="number" name="system.rangedDamage" value="{{system.rangedDamage}}" data-dtype="Number"/>
            </div>
            {{/if}}
            <div class="flexrow">
                <label>Calculated Damage</label>
                <span>{{system.calculatedDamage}}</span>
            </div>
            <div class="flexrow">
                <label>Special</label>
                <input type="text" name="system.special" value="{{system.special}}"/>
            </div>
            {{/if}}

            {{#if (or (eq item.type "skill") (eq item.type "ability"))}}
            <div class="flexrow">
                <label>Upgrade Points</label>
                <input type="number" name="system.upgradePoints" value="{{system.upgradePoints}}" data-dtype="Number"/>
            </div>
            {{#if (eq item.type "skill")}}
            <div class="flexrow">
                <label>Linked Stat</label>
                <select name="system.stat">
                    {{selectOptions statOptions selected=system.stat localize=true}}
                </select>
            </div>
            {{/if}}
            <div class="flexrow">
                <label>Tags</label>
                <input type="text" name="system.tags" value="{{system.tags}}"/>
            </div>
            {{/if}}

            {{#if (eq item.type "ability")}}
            <div class="flexrow">
                <label>Apex Ability?</label>
                <input type="checkbox" name="system.isApex" {{checked system.isApex}}/>
            </div>
            {{#if system.isApex}}
            <div class="flexrow">
                <label>Uses</label>
                <input type="number" name="system.uses.value" value="{{system.uses.value}}" min="0" max="{{system.uses.max}}"/>
                <span> / </span>
                <input type="number" name="system.uses.max" value="{{system.uses.max}}"/>
            </div>
            {{else}}
            <div class="flexrow">
                <label>Cost</label>
                <input type="number" name="system.cost" value="{{system.cost}}"/>
            </div>
            <div class="flexrow">
                <label>Resource</label>
                <select name="system.resource">
                    {{selectOptions resourceOptions selected=system.resource}}
                </select>
            </div>
            {{/if}}

            <div class="flexrow">
                <label>Multi-Attack</label>
                <input type="number" name="system.multiAttack" value="{{system.multiAttack}}"/>
            </div>
            <hr>
            <div class="flexrow">
                <label>Is Attack?</label>
                <input type="checkbox" name="system.isAttack" {{checked system.isAttack}}/>
            </div>
            {{#if system.isAttack}}
            <div class="flexcol" style="border: 1px solid #7a7971; padding: 5px; margin-top: 5px;">
                <div class="flexrow">
                    <label>Attack Stat</label>
                    <select name="system.attackStat">
                        {{selectOptions statOptions selected=system.attackStat localize=true}}
                    </select>
                </div>
                <div class="flexrow">
                    <label>Damage Stat</label>
                    <select name="system.damageStat">
                        {{selectOptions statOptions selected=system.damageStat localize=true}}
                    </select>
                </div>
                <div class="flexrow">
                    <label>Damage Multiplier</label>
                    <input type="number" name="system.damageMult" value="{{system.damageMult}}" step="0.05"/>
                </div>
                <div class="flexrow">
                    <label>Damage Bonus</label>
                    <input type="number" name="system.damageBonus" value="{{system.damageBonus}}"/>
                </div>
                <div class="flexrow">
                    <label>Calculated Damage</label>
                    <span>{{system.calculatedDamage}}</span>
                </div>
            </div>
            {{/if}}
            {{/if}}

            <hr>
            <label>Description</label>
            <textarea name="system.description" rows="10">{{system.description}}</textarea>
        </div>
    </div>
</section>
